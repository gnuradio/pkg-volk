From 0109b2ed06f907363d3ea5a05d24db4992e2d1a5 Mon Sep 17 00:00:00 2001
From: Nathan West <nwest@deepsig.io>
Date: Tue, 23 Jan 2018 12:02:03 -0500
Subject: [PATCH 18/18] fix GH issue #139 for 32fc_index_max_* kernels

---
 kernels/volk/volk_32fc_index_max_16u.h | 3 +--
 kernels/volk/volk_32fc_index_max_32u.h | 2 +-
 2 files changed, 2 insertions(+), 3 deletions(-)

diff --git a/kernels/volk/volk_32fc_index_max_16u.h b/kernels/volk/volk_32fc_index_max_16u.h
index c13196a..14b0d22 100644
--- a/kernels/volk/volk_32fc_index_max_16u.h
+++ b/kernels/volk/volk_32fc_index_max_16u.h
@@ -115,10 +115,9 @@ volk_32fc_index_max_16u_a_sse3(uint16_t* target, lv_32fc_t* src0,
   int i = 0;
 
   xmm8 = _mm_set_epi32(3, 2, 1, 0);//remember the crazy reverse order!
-  xmm9 = xmm8 = _mm_setzero_si128();
+  xmm9 = _mm_setzero_si128();
   xmm10 = _mm_set_epi32(4, 4, 4, 4);
   xmm3 = _mm_setzero_ps();
-
   //printf("%f, %f, %f, %f\n", ((float*)&xmm10)[0], ((float*)&xmm10)[1], ((float*)&xmm10)[2], ((float*)&xmm10)[3]);
 
   for(; i < bound; ++i) {
diff --git a/kernels/volk/volk_32fc_index_max_32u.h b/kernels/volk/volk_32fc_index_max_32u.h
index ad794fb..5665582 100644
--- a/kernels/volk/volk_32fc_index_max_32u.h
+++ b/kernels/volk/volk_32fc_index_max_32u.h
@@ -104,7 +104,7 @@ volk_32fc_index_max_32u_a_sse3(uint32_t* target, lv_32fc_t* src0,
   int i = 0;
 
   xmm8 = _mm_set_epi32(3, 2, 1, 0);//remember the crazy reverse order!
-  xmm9 = xmm8 = _mm_setzero_si128();
+  xmm9 = _mm_setzero_si128();
   xmm10 = _mm_set_epi32(4, 4, 4, 4);
   xmm3 = _mm_setzero_ps();
 
-- 
2.11.0

